{"version":3,"sources":["js/theme-switcher.js","js/weather.js","index.js"],"names":["switcher","document","querySelector","body","LIGHT","DARK","pageTheme","localStorage","getItem","handlerSwitch","classList","toggle","setItem","checked","add","addEventListener","API_KEY","BASE_URL","searchForm","weatherCard","errorMsg","getWeather","e","preventDefault","city","target","elements","cityname","value","resp","fetch","status","ok","remove","setTimeout","data","json","console","log","innerHTML","Math","round","main","temp","name","humidity","wind","speed","attributes","href","textContent","weather","reset","require"],"mappings":";AAAA,MAAMA,EAAWC,SAASC,cAAc,wBAClCC,EAAOF,SAASC,cAAc,SAE9B,MAAEE,EAAK,KAAEC,GAAS,CACtBD,MAAO,cACPC,KAAM,cAGR,IAAIC,EAAYC,aAAaC,QAAQ,kBAAoBJ,EAIzD,SAASK,IACPN,EAAKO,UAAUC,OAAOP,GACtBD,EAAKO,UAAUC,OAAON,GAEtBC,EAAYA,IAAcF,EAAQC,EAAOD,EACzCG,aAAaK,QAAQ,gBAAiBN,GARxCN,EAASa,QAAUP,IAAcD,EACjCF,EAAKO,UAAUI,IAAIR,GAUnBN,EAASe,iBAAiB,SAAUN;;ACpBpC,MAAMO,EAAU,mCACVC,EAAW,0CAEXC,EAAajB,SAASC,cAAc,gBACpCiB,EAAclB,SAASC,cAAc,YACrCkB,EAAWnB,SAASC,cAAc,UAMxC,eAAemB,EAAWC,GACxBA,EAAEC,iBAEF,MAAMC,EAAOF,EAAEG,OAAOC,SAASC,SAASC,MAClCC,QAAaC,SAASb,eAAsBO,wBAA2BR,KAE7E,IAAKa,EAAKE,OAAOC,KAAOR,EAKtB,OAJAJ,EAASV,UAAUuB,OAAO,kBAC1BC,WAAW,KACTd,EAASV,UAAUI,IAAI,cACtB,KAIL,MAAMqB,QAAaN,EAAKO,OACxBC,QAAQC,IAAIH,GAEZlC,SAASC,cAAc,kBAAkBqC,UAAYC,KAAKC,MAAMN,EAAKO,KAAKC,MAAQ,SAClF1C,SAASC,cAAc,kBAAkBqC,UAAYJ,EAAKS,KAC1D3C,SAASC,cAAc,aAAaqC,UAAYJ,EAAKO,KAAKG,SAAW,IACrE5C,SAASC,cAAc,eAAeqC,UAAYJ,EAAKW,KAAKC,MAAQ,OACpE9C,SAASC,cAAc,sBAAsB8C,WAAWC,KAAKC,2CAA6Cf,EAAKgB,QAAQ,GAAGT,OAE1HvB,EAAYT,UAAUuB,OAAO,aAC7Bf,EAAWkC,QA5BbhC,EAASV,UAAUI,IAAI,aA+BvBI,EAAWH,iBAAiB,SAAUM;;ACrCtC,aADAgC,QAAA,0BACAA,QAAA","file":"src.f638f0d4.js","sourceRoot":"../src","sourcesContent":["const switcher = document.querySelector('#theme-switch-toggle');\nconst body = document.querySelector('body');\n\nconst { LIGHT, DARK } = {\n  LIGHT: 'light-theme',\n  DARK: 'dark-theme'\n}\n\nlet pageTheme = localStorage.getItem('current-theme') || LIGHT;\nswitcher.checked = pageTheme === DARK;\nbody.classList.add(pageTheme);\n\nfunction handlerSwitch() {\n  body.classList.toggle(LIGHT);\n  body.classList.toggle(DARK);\n\n  pageTheme = pageTheme === LIGHT ? DARK : LIGHT;\n  localStorage.setItem('current-theme', pageTheme);\n}\n\nswitcher.addEventListener('change', handlerSwitch);","const API_KEY = '531234909003fb2cf97fea2704db1ea5';\nconst BASE_URL = 'https://api.openweathermap.org/data/2.5';\n\nconst searchForm = document.querySelector('#search-form');\nconst weatherCard = document.querySelector('#weather');\nconst errorMsg = document.querySelector('#error');\n\nerrorMsg.classList.add('is-hidden');\n\n\n\nasync function getWeather(e) {\n  e.preventDefault();\n\n  const city = e.target.elements.cityname.value;\n  const resp = await fetch(`${BASE_URL}/weather?q=${city}&units=metric&appid=${API_KEY}`);\n\n  if (!resp.status.ok || !city) {\n    errorMsg.classList.remove('is-hidden');\n    setTimeout(() => {\n      errorMsg.classList.add('is-hidden');  \n    }, 3000);\n    return;\n  };\n\n  const data = await resp.json()\n  console.log(data);\n\n  document.querySelector('#weather__temp').innerHTML = Math.round(data.main.temp) + '&#8451';\n  document.querySelector('#weather__city').innerHTML = data.name;\n  document.querySelector('#humidity').innerHTML = data.main.humidity + '%';\n  document.querySelector('#wind-speed').innerHTML = data.wind.speed + 'km/h';\n  document.querySelector('#weather-icon-path').attributes.href.textContent = `/weather-icons.2c0c02e3.svg#${data.weather[0].main}`\n\n  weatherCard.classList.remove('is-hidden');\n  searchForm.reset();\n}\n\nsearchForm.addEventListener('submit', getWeather)\n\n// /weather-icons.2c0c02e3.svg#cloud-snowflakes\n// /weather-icons.2c0c02e3.svg#Clouds","import './js/theme-switcher.js';\nimport './js/weather.js';"]}